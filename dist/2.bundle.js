(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{125:function(e,n,t){"use strict";t.r(n);var r="104b255245ef41b2a0311bc877694c67",a={CNN:"cnn",Bloomberg:"bloomberg","BBC News":"bbc-news","Google News":"google-news",TechCrunch:"techcrunch",Time:"time","New Scientist":"new-scientist","NFL News":"nfl-news","National Gographic":"national-geographic","USA Today":"usa-today"};function o(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=function(){function e(){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e)}var n,t,r;return n=e,(t=[{key:"fetchDataFromServer",value:function(e,n){return fetch("https://newsapi.org/v1/articles?source=".concat(e,"&apiKey=").concat(n)).then(function(e){return e.json()}).catch(function(e){return console.log(e),[]}).then(function(e){return e.articles||[]})}}])&&o(n.prototype,t),r&&o(n,r),e}();function c(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=function(){function e(n){var t=n.description,r=void 0===t?"follow the link to find out more":t,a=n.publishedAt,o=void 0===a?"":a,i=n.title,c=void 0===i?"":i,s=n.url,u=void 0===s?"":s,l=n.urlToImage;!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),this.description=r||"follow the link to find out more",this.publishedAt=o||"",this.title=c||"",this.url=u||"",this.urlToImage=l||"",this.component=null}var n,t,r;return n=e,(t=[{key:"createArticleComponent",value:function(){var e=document.createElement("section"),n=document.createElement("img"),t=document.createElement("div");if(e.classList.add("card"),n.setAttribute("src",this.urlToImage),t.innerHTML='\n      <div class="card-body">\n        <h4 class="card-title">'.concat(this.title,"</h4>\n        <time>").concat(this.publishedAt,'</time>\n        <p class="card-text">').concat(this.description,'</p>\n        <a href="').concat(this.url,'" class="btn btn-primary" target="_blank">read more...</a>\n      </div>\n    '),e.appendChild(n),e.appendChild(t),this.component=e,this.urlToImage)return new Promise(function(e){n.addEventListener("load",function(){e()})})}}])&&c(n.prototype,t),r&&c(n,r),e}();function u(e){return function(e){if(Array.isArray(e)){for(var n=0,t=new Array(e.length);n<e.length;n++)t[n]=e[n];return t}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function l(e,n,t,r,a,o,i){try{var c=e[o](i),s=c.value}catch(e){return void t(e)}c.done?n(s):Promise.resolve(s).then(r,a)}var d=new i;function h(e){return f.apply(this,arguments)}function f(){var e;return e=regeneratorRuntime.mark(function e(n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",d.fetchDataFromServer(n,r).then(function(e){var n=[],t=[];return e.forEach(function(e){var r=new s(e);n=u(n).concat([r.createArticleComponent()]),t.push(r.component)}),{arrayOfPromises:n,arrayOfArticles:t}}));case 1:case"end":return e.stop()}},e,this)}),(f=function(){var n=this,t=arguments;return new Promise(function(r,a){var o=e.apply(n,t);function i(e){l(o,r,a,i,c,"next",e)}function c(e){l(o,r,a,i,c,"throw",e)}i(void 0)})}).apply(this,arguments)}function p(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var v=function(){function e(n){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),this.parentElement=n,this.loader=null}var n,t,r;return n=e,(t=[{key:"createLoader",value:function(){var e=document.createElement("div");e.classList.add("loader"),e.innerHTML='\n      <div class="circle-loader"></div>',this.loader=e}},{key:"showLoader",value:function(){this.parentElement.appendChild(this.loader)}},{key:"hideLoader",value:function(){var e=document.querySelector(".loader");this.parentElement.removeChild(e)}}])&&p(n.prototype,t),r&&p(n,r),e}();function m(e,n,t,r,a,o,i){try{var c=e[o](i),s=c.value}catch(e){return void t(e)}c.done?n(s):Promise.resolve(s).then(r,a)}function w(e){return function(){var n=this,t=arguments;return new Promise(function(r,a){var o=e.apply(n,t);function i(e){m(o,r,a,i,c,"next",e)}function c(e){m(o,r,a,i,c,"throw",e)}i(void 0)})}}function y(){return(y=w(regeneratorRuntime.mark(function e(){var n,t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=function(){return(t=w(regeneratorRuntime.mark(function e(){var n,t,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=document.querySelector(".news__welcome-block"),(t=document.querySelector("body")).removeChild(n),(r=document.createElement("main")).classList.add("news"),r.innerHTML='\n      <section>\n        <header class="news__channels-header">News Channels</header>\n        <div id ="newsChannels" class="news__channel-list"></div>\n      </section>\n      <section>\n        <header class="news__artclies-header">News</header>\n        <section id="news"></section>\n      </section>',t.appendChild(r);case 7:case"end":return e.stop()}},e,this)}))).apply(this,arguments)},n=function(){return t.apply(this,arguments)},e.next=4,n();case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function b(e,n,t,r,a,o,i){try{var c=e[o](i),s=c.value}catch(e){return void t(e)}c.done?n(s):Promise.resolve(s).then(r,a)}function g(e){return function(){var n=this,t=arguments;return new Promise(function(r,a){var o=e.apply(n,t);function i(e){b(o,r,a,i,c,"next",e)}function c(e){b(o,r,a,i,c,"throw",e)}i(void 0)})}}n.default=function(){var e,n="cnn",t=function t(a){if(a.target!==a.currentTarget){var o,i,c=a.target.id;if(o=c,i="active-channel",document.querySelector(".".concat(i)).classList.remove("".concat(i)),document.querySelector("#".concat(o)).classList.add("".concat(i)),n!==c){var s=document.querySelector("#newsChannels"),u=document.querySelector("#news"),l=document.querySelector(".news-articles"),d=document.createElement("div");s.removeEventListener("click",t),u.removeChild(l),n=c,d.classList.add("news-articles"),u.appendChild(d),e.showLoader(),r(n,d,s).then(function(){return s.addEventListener("click",t)})}}};function r(e,n,t){return o.apply(this,arguments)}function o(){return(o=g(regeneratorRuntime.mark(function n(r,a,o){var i,c,s;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return s=function(){return(s=g(regeneratorRuntime.mark(function n(r){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",Promise.all(r.arrayOfPromises).then(function(){r.arrayOfArticles.forEach(function(e){a.appendChild(e)}),e.hideLoader()}).catch(function(e){console.log(e),o.addEventListener("click",t)}));case 1:case"end":return n.stop()}},n,this)}))).apply(this,arguments)},c=function(e){return s.apply(this,arguments)},n.next=4,h(r);case 4:return i=n.sent,n.next=7,c(i);case 7:return n.abrupt("return",n.sent);case 8:case"end":return n.stop()}},n,this)}))).apply(this,arguments)}var i=function(){var o=document.querySelector("#newsChannels"),i=document.querySelector("#news"),c=document.createElement("div");(e=new v(i)).createLoader(),c.classList.add("news-articles"),i.appendChild(c),r(n,c,o).then(function(){o.addEventListener("click",t)}),e.showLoader(),Object.entries(a).forEach(function(e){o.appendChild(function(e,n,t){var r=document.createElement("div");return r.innerHTML=e,r.classList.add("card"),r.classList.add("news-channel"),r.setAttribute("id",n),n===t&&r.classList.add("active-channel"),r}(e[0],e[1],n))})};(function(){return y.apply(this,arguments)})().then(function(){i()})}}}]);
//# sourceMappingURL=2.bundle.js.map