{"version":3,"sources":["webpack:///./src/news-channel-item.js","webpack:///./src/constants.js","webpack:///./src/fetch-service.js","webpack:///./src/components/article.js","webpack:///./src/create-articles.js","webpack:///./src/components/loader.js","webpack:///./src/helpers.js","webpack:///./src/upload-content.js"],"names":["apiKey","newsChannels1","CNN","Bloomberg","BBC News","Google News","TechCrunch","Time","New Scientist","NFL News","National Gographic","USA Today","FetchService","_classCallCheck","this","key","value","newsChannelId","fetch","concat","then","resp","json","catch","err","console","log","data","articles","Article","_ref","_ref$description","description","_ref$publishedAt","publishedAt","_ref$title","title","_ref$url","url","urlToImage","article_classCallCheck","component","articleComponent","document","createElement","image","content","classList","add","setAttribute","innerHTML","appendChild","Promise","resolve","addEventListener","fetchService","createArtciles","_x","_createArtciles","apply","arguments","_callee","regeneratorRuntime","wrap","_context","prev","next","abrupt","fetchDataFromServer","arrayOfPromises","arrayOfArticles","forEach","element","_toConsumableArray","createArticleComponent","push","stop","Loader","parentElement","loader_classCallCheck","loader","querySelector","removeChild","_callee2","updateDom","_updateDom","_context2","helpers_asyncToGenerator","mark","welcomeContent","body","newsContent","sent","__webpack_exports__","currentChannel","onContainerClick","event","target","currentTarget","currentValue","className","id","remove","newsContainer","news","currentArticles","newArticlesContainer","removeEventListener","showLoader","getArticles","_x2","_x3","_getArticles","upload_content_asyncToGenerator","newsChannel","articlesContainer","attachArticles","_attachArticles","all","hideLoader","_x4","main","newsArticlesContainer","createLoader","Object","entries","channel","channelName","channelId","newsItem","createNewsChannelItem","_contentUploadBootsrapper","contentUploadBootsrapper"],"mappings":"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","file":"2.bundle.js","sourcesContent":["export const createNewsChannelItem = (channelName,channelId, currentChannel) => {\r\n  let newsItem = document.createElement('div');\r\n  newsItem.innerHTML = channelName;\r\n  newsItem.classList.add('card');\r\n  newsItem.classList.add('news-channel');\r\n  newsItem.setAttribute('id', channelId);\r\n  if (channelId === currentChannel) {\r\n    newsItem.classList.add('active-channel')\r\n  }\r\n  return newsItem;\r\n}\r\n","export const apiKey = '104b255245ef41b2a0311bc877694c67';\r\n\r\nexport const newsChannels1 = {\r\n    'CNN': 'cnn',\r\n    'Bloomberg': 'bloomberg',\r\n    \"BBC News\": 'bbc-news',\r\n    'Google News': 'google-news',\r\n    'TechCrunch': 'techcrunch',\r\n    'Time': 'time',\r\n    'New Scientist': 'new-scientist',\r\n    'NFL News': 'nfl-news',\r\n    'National Gographic': 'national-geographic',\r\n    'USA Today': 'usa-today'\r\n};\r\n","export class FetchService {\r\n  constructor() {}\r\n\r\n  fetchDataFromServer(newsChannelId, key) {\r\n    return fetch(`https://newsapi.org/v1/articles?source=${newsChannelId}&apiKey=${key}`)\r\n      .then(resp => resp.json())\r\n      .catch(err => {\r\n        console.log(err);\r\n        return [];\r\n      })\r\n      .then(data => {\r\n        return data.articles || [];\r\n      });\r\n  }\r\n}\r\n","export class Article {\r\n  constructor(\r\n    {\r\n      description = 'follow the link to find out more',\r\n      publishedAt = '',\r\n      title = '',\r\n      url = '',\r\n      urlToImage\r\n    }) {\r\n    this.description = description || 'follow the link to find out more';\r\n    this.publishedAt = publishedAt || '';\r\n    this.title = title || '';\r\n    this.url = url || '';\r\n    this.urlToImage = urlToImage || '';\r\n    this.component = null;\r\n  }\r\n\r\n  createArticleComponent() {\r\n    const articleComponent = document.createElement('section');\r\n    const image = document.createElement('img');\r\n    const content = document.createElement('div');\r\n    articleComponent.classList.add('card');\r\n    image.setAttribute('src', this.urlToImage);\r\n    content.innerHTML = `\r\n      <div class=\"card-body\">\r\n        <h4 class=\"card-title\">${this.title}</h4>\r\n        <time>${this.publishedAt}</time>\r\n        <p class=\"card-text\">${this.description}</p>\r\n        <a href=\"${this.url}\" class=\"btn btn-primary\" target=\"_blank\">read more...</a>\r\n      </div>\r\n    `;\r\n    articleComponent.appendChild(image);\r\n    articleComponent.appendChild(content);\r\n    this.component = articleComponent;\r\n    if (this.urlToImage) {\r\n      return new Promise((resolve) => {\r\n        image.addEventListener('load', () => {\r\n          resolve();\r\n        });\r\n      });\r\n    }\r\n  }\r\n}\r\n","import { FetchService } from './fetch-service';\r\nimport { apiKey } from './constants';\r\nimport { Article } from './components/article';\r\n\r\nconst fetchService = new FetchService;\r\n\r\nexport async function createArtciles (newsChannelId) {\r\n  return fetchService.fetchDataFromServer(newsChannelId, apiKey).then(data => {\r\n    let arrayOfPromises = [];\r\n    let arrayOfArticles = [];\r\n    data.forEach(element => {\r\n      let articles = new Article(element);\r\n      arrayOfPromises = [...arrayOfPromises, articles.createArticleComponent()];\r\n      arrayOfArticles.push(articles.component);\r\n    });\r\n    return {\r\n      arrayOfPromises: arrayOfPromises,\r\n      arrayOfArticles: arrayOfArticles\r\n    }\r\n  })\r\n};","export class Loader {\r\n  constructor(parentElement) {\r\n    this.parentElement = parentElement;\r\n    this.loader = null;\r\n  }\r\n\r\n  createLoader() {\r\n    const loader = document.createElement('div');\r\n    loader.classList.add('loader');\r\n    loader.innerHTML = `\r\n      <div class=\"circle-loader\"></div>`;\r\n      this.loader = loader;\r\n  }\r\n\r\n  showLoader() {\r\n    this.parentElement.appendChild(this.loader);\r\n  }\r\n\r\n  hideLoader() {\r\n    let loader = document.querySelector('.loader');\r\n    this.parentElement.removeChild(loader);\r\n  }\r\n}\r\n","import { createArtciles } from './create-articles';\r\n\r\nexport const setCssClass = (currentValue, className) => {\r\n  let previousItem = document.querySelector(`.${className}`);\r\n  previousItem.classList.remove(`${className}`);\r\n  let currentItem = document.querySelector(`#${currentValue}`);\r\n  currentItem.classList.add(`${className}`);\r\n};\r\n\r\nexport async function contentUploadBootsrapper() {\r\n  async function updateDom() {\r\n    const welcomeContent = document.querySelector('.news__welcome-block');\r\n    const body = document.querySelector('body');\r\n    body.removeChild(welcomeContent);\r\n    const newsContent = document.createElement('main');\r\n    newsContent.classList.add('news');\r\n    newsContent.innerHTML = `\r\n      <section>\r\n        <header class=\"news__channels-header\">News Channels</header>\r\n        <div id =\"newsChannels\" class=\"news__channel-list\"></div>\r\n      </section>\r\n      <section>\r\n        <header class=\"news__artclies-header\">News</header>\r\n        <section id=\"news\"></section>\r\n      </section>`;\r\n    body.appendChild(newsContent);\r\n  }\r\n  return await updateDom();\r\n}\r\n","import { createNewsChannelItem } from \"./news-channel-item\";\r\nimport { newsChannels1 } from './constants';\r\nimport { createArtciles } from './create-articles';\r\nimport { Loader } from \"./components/loader\";\r\nimport { setCssClass, contentUploadBootsrapper } from \"./helpers\";\r\n\r\nexport default () => {\r\n  let currentChannel = 'cnn';\r\n  let loader;\r\n  const onContainerClick = (event) => {\r\n    if (event.target === event.currentTarget) {\r\n        return;\r\n    }\r\n    const newsChannelId = event.target.id;\r\n    setCssClass(newsChannelId, 'active-channel');\r\n    if (currentChannel !== newsChannelId) {\r\n      const newsContainer = document.querySelector('#newsChannels');\r\n      const news = document.querySelector('#news');\r\n      const currentArticles = document.querySelector('.news-articles');\r\n      const newArticlesContainer = document.createElement('div');\r\n      newsContainer.removeEventListener('click', onContainerClick);\r\n      news.removeChild(currentArticles);\r\n      currentChannel = newsChannelId;\r\n      newArticlesContainer.classList.add('news-articles');\r\n      news.appendChild(newArticlesContainer);\r\n      loader.showLoader();\r\n      getArticles(currentChannel, newArticlesContainer, newsContainer)\r\n          .then(() => newsContainer.addEventListener('click', onContainerClick));\r\n    }\r\n  };\r\n\r\n  async function getArticles(newsChannel, articlesContainer, newsContainer) {\r\n    const articles = await createArtciles(newsChannel);\r\n    async function attachArticles(data) {\r\n      return Promise.all(data.arrayOfPromises)\r\n              .then(() => {\r\n                  data.arrayOfArticles.forEach(element => {\r\n                      articlesContainer.appendChild(element);\r\n                  });\r\n                  loader.hideLoader();\r\n              })\r\n              .catch(err => {\r\n                  console.log(err);\r\n                  newsContainer.addEventListener('click', onContainerClick);\r\n              });\r\n      }\r\n      return await attachArticles(articles);\r\n  };\r\n\r\n  const main = () => {\r\n      const newsContainer = document.querySelector('#newsChannels');\r\n      const news = document.querySelector('#news');\r\n      const newsArticlesContainer = document.createElement('div');\r\n      loader = new Loader(news);\r\n      loader.createLoader();\r\n      newsArticlesContainer.classList.add('news-articles');\r\n      news.appendChild(newsArticlesContainer);\r\n      getArticles(currentChannel, newsArticlesContainer, newsContainer)\r\n          .then(() => {\r\n              newsContainer.addEventListener('click', onContainerClick);\r\n          });\r\n      loader.showLoader();\r\n      Object.entries(newsChannels1).forEach((channel) => {\r\n          newsContainer.appendChild(createNewsChannelItem(channel[0], channel[1], currentChannel));\r\n      });\r\n  };\r\n  contentUploadBootsrapper().then(() => {\r\n      main();\r\n  });\r\n}"],"sourceRoot":""}